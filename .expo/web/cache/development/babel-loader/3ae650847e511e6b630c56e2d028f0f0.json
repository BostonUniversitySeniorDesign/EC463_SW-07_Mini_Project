{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/Users/nancyzheng/EC463_SW-07_Mini_Project/screens/Dashboard.js\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useEffect, useState } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport { TouchableOpacity } from 'react-native-gesture-handler';\nimport * as firebase from 'firebase';\nimport { loggingOut } from \"../API/firebaseMethods\";\nexport default function Dashboard(_ref) {\n  var navigation = _ref.navigation;\n  var currentUserUID = firebase.auth().currentUser.uid;\n\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      firstName = _useState2[0],\n      setFirstName = _useState2[1];\n\n  useEffect(function () {\n    function getUserInfo() {\n      var doc, dataObj;\n      return _regeneratorRuntime.async(function getUserInfo$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return _regeneratorRuntime.awrap(firebase.firestore().collection('users').doc(currentUserUID).get());\n\n            case 3:\n              doc = _context.sent;\n\n              if (!doc.exists) {\n                Alert.alert('No user data found!');\n              } else {\n                dataObj = doc.data();\n                setFirstName(dataObj.firstName);\n              }\n\n              _context.next = 10;\n              break;\n\n            case 7:\n              _context.prev = 7;\n              _context.t0 = _context[\"catch\"](0);\n              Alert.alert('There is an error.', _context.t0.message);\n\n            case 10:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, [[0, 7]], Promise);\n    }\n\n    getUserInfo();\n  });\n\n  var handlePress = function handlePress() {\n    loggingOut();\n    navigation.replace('Home');\n  };\n\n  return React.createElement(View, {\n    style: styles.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 5\n    }\n  }, React.createElement(Text, {\n    style: styles.text,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }\n  }, \"Hi \", firstName), React.createElement(Text, {\n    style: styles.titleText,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }\n  }, \"Welcome to your Food Tracker! Select Scan on the bottom to start scanning. \"), React.createElement(TouchableOpacity, {\n    style: styles.button,\n    onPress: handlePress,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }\n  }, React.createElement(Text, {\n    style: styles.buttonText,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }\n  }, \"Log Out\")));\n}\nvar styles = StyleSheet.create({\n  button: {\n    width: 150,\n    padding: 5,\n    backgroundColor: '#ADD8E6',\n    borderWidth: 2,\n    borderColor: 'white',\n    borderRadius: 0,\n    marginBottom: '10%'\n  },\n  buttonText: {\n    fontSize: 20,\n    color: 'navy',\n    fontWeight: 'bold',\n    textAlign: 'center'\n  },\n  container: {\n    height: '100%',\n    width: '100%',\n    backgroundColor: 'white',\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  text: {\n    textAlign: 'center',\n    fontSize: 30,\n    fontStyle: 'italic',\n    marginTop: '2%',\n    marginBottom: '10%',\n    fontWeight: 'bold',\n    color: 'black'\n  },\n  titleText: {\n    textAlign: 'center',\n    fontSize: 25,\n    fontWeight: 'bold',\n    color: '#2E6194'\n  }\n});","map":{"version":3,"sources":["/Users/nancyzheng/EC463_SW-07_Mini_Project/screens/Dashboard.js"],"names":["React","useEffect","useState","TouchableOpacity","firebase","loggingOut","Dashboard","navigation","currentUserUID","auth","currentUser","uid","firstName","setFirstName","getUserInfo","firestore","collection","doc","get","exists","Alert","alert","dataObj","data","message","handlePress","replace","styles","container","text","titleText","button","buttonText","StyleSheet","create","width","padding","backgroundColor","borderWidth","borderColor","borderRadius","marginBottom","fontSize","color","fontWeight","textAlign","height","alignItems","justifyContent","fontStyle","marginTop"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { View, Text, StyleSheet, Alert} from 'react-native';\nimport { TouchableOpacity } from 'react-native-gesture-handler';\nimport * as firebase from 'firebase';\nimport {loggingOut} from '../API/firebaseMethods';\n\nexport default function Dashboard({ navigation }) {\n  let currentUserUID = firebase.auth().currentUser.uid;\n  const [firstName, setFirstName] = useState('');\n\n  useEffect(() => {\n    async function getUserInfo(){\n      try {\n        let doc = await firebase\n          .firestore()\n          .collection('users')\n          .doc(currentUserUID)\n          .get();\n\n        if (!doc.exists){\n          Alert.alert('No user data found!')\n        } else {\n          let dataObj = doc.data();\n          setFirstName(dataObj.firstName)\n        }\n      } catch (err){\n      Alert.alert('There is an error.', err.message)\n      }\n    }\n    getUserInfo();\n  })\n\n  const handlePress = () => {\n    loggingOut();\n    navigation.replace('Home');\n  };\n\n  return (\n    <View style={styles.container}>\n      <Text style={styles.text}>Hi {firstName}</Text>\n      <Text style={styles.titleText}>Welcome to your Food Tracker! Select Scan on the bottom to start scanning. </Text>\n      <TouchableOpacity style={styles.button} onPress={handlePress}>\n        <Text style={styles.buttonText}>Log Out</Text>\n      </TouchableOpacity>\n    </View>\n  )\n}\n\nconst styles = StyleSheet.create({\n  button: {\n    width: 150,\n    padding: 5,\n    backgroundColor: '#ADD8E6',\n    borderWidth: 2,\n    borderColor: 'white',\n    borderRadius: 0,\n    marginBottom: '10%'\n  },\n  buttonText: {\n    fontSize:20,\n    color: 'navy',\n    fontWeight: 'bold',\n    textAlign: 'center',\n  },\n  container: {\n    height: '100%',\n    width: '100%',\n    backgroundColor: 'white',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  text: {\n    textAlign: 'center',\n    fontSize: 30,\n    fontStyle: 'italic',\n    marginTop: '2%',\n    marginBottom: '10%',\n    fontWeight: 'bold',\n    color: 'black',\n  },\n  titleText: {\n    textAlign: 'center',\n    fontSize: 25,\n    fontWeight: 'bold',\n    color: '#2E6194',\n  },\n});"]},"metadata":{},"sourceType":"module"}